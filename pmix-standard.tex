% Welcome to pmix-standard.tex.
% This is the master LaTex file for the PMIx Standard document.
%
% The files in this set include:
%
%    pmix-standard.tex                - this file, the master file
%    Makefile                         - makes the document
%    pmix.sty                         - the main style file
%    Title_Page.tex                   - the title page
%    Chap_Introduction.tex            - unnumbered introductory chapter
%    figs/*.png                       - Figures
%    sources/*.c, *.f                 - C/C++/Fortran example source files
%
% When editing this file:
%
%    1. To change formatting, appearance, or style, please edit pmix.sty.
%
%    2. Custom commands and macros are defined in pmix.sty.
%
%    3. Be kind to other editors -- keep a consistent style by copying-and-pasting to
%       create new content.
%
%    4. We use semantic markup, e.g. (see pmix.sty for a full list):
%         \code{}     % for bold monospace keywords, code, operators, etc.
%
%    5. Other recommendations:
%         Use the convenience macros defined in pmix.sty for the minor headers
%         such as Comments, Syntax, etc.
%
%         To keep items together on the same page, prefer the use of
%         \begin{samepage}.... Avoid \parbox for text blocks as it interrupts line numbering.
%         When possible, avoid \filbreak, \pagebreak, \newpage, \clearpage unless that's
%         what you mean. Use \needspace{} cautiously for troublesome paragraphs.
%
%         Avoid absolute lengths and measures in this file; use relative units when possible.
%         Vertical space can be relative to \baselineskip or ex units. Horizontal space
%         can be relative to \linewidth or em units.
%
%         Prefer \emph{} to italicize terminology, e.g.:
%             This is a \emph{definition}, not a placeholder.
%             This is a \plc{var-name}.
%

% The following says letter size, but the style sheet may change the size
\documentclass[10pt,letterpaper,twoside,makeidx,hidelinks]{scrreprt}

%%%%%%%%%%%%%%%%%%%
% Release Managers:
% - Set is_unofficial_draft = false to remove the watermark
% - Set VER to the correct version number
% - Set VERDATE to the Month+Year of the release
%%%%%%%%%%%%%%%%%%%
\usepackage[us,24hr]{datetime}
\usepackage{ifthen}
\newboolean{is_unofficial_draft}
\setboolean{is_unofficial_draft}{true}

% Text to appear in the footer on even-numbered pages:
\ifthenelse{\boolean{is_unofficial_draft}}
  {\newcommand{\VER}{5.0 (Draft)}
   \newcommand{\VERDATE}{\emph{Created on \today}}
  }
  {\newcommand{\VER}{5.0}
   \newcommand{\VERDATE}{Month Year}
  }
\newcommand{\footerText}{PMIx Standard -- Version \VER{} -- \VERDATE}

% Unified style sheet for PMIx documents:
\input{pmix.sty}

% Watermark for the Unofficial Drafts
\ifthenelse{\boolean{is_unofficial_draft}}
  {\usepackage{draftwatermark}
   \SetWatermarkText{\textbf{Unofficial Draft}}
   \SetWatermarkColor[gray]{0.85}
   \SetWatermarkFontSize{90pt}
   \SetWatermarkScale{1}
   \SetWatermarkAngle{45}
  }{}

%%%%%%%%%%%%%%%%%%% Indices
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,title=Index]
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_api,title=Index of APIs]
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_macro,title=Index of Support Macros]
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_const,title=Index of Constants] % 1 column because of long names
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_attribute,title=Index of Attributes]
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_struct,title=Index of Data Structures]
\makeindex[intoc,columns=1,columnseprule=true,columnsep=15pt,name=index_envars,title=Index of Environmental Variables]


%%%%%%%%%%%%%%%%%%%
\usepackage{acronym}
\acrodef{PMI}[PMI]{Process Management Interface}
\acrodef{PMIx}[PMIx]{Process Management Interface - Exascale}
\acrodef{HPC}[HPC]{High Performance Computing}
\acrodef{MPI}[MPI]{Message Passing Interface}
\acrodef{MPE}[MPE]{Message Passing Environment}

\acrodef{RM}[RM]{Resource Manager}
\acrodef{RTE}[RTE]{RunTime Environment}
\acrodef{SMS}[SMS]{System Management Software stack}
\acrodef{ASC}[ASC]{Administrative Steering Committee}
\acrodef{WLM}[WLM]{WorkLoad Manager}
\acrodef{GDS}[GDS]{Global Data Storage}
\acrodef{BCX}[BCX]{Business Card Exchange}
\acrodef{DBCX}[DBCX]{Direct Business Card Exchange}

\acrodef{PID}[PID]{Process IDentifier}
\acrodef{URI}[URI]{Uniform Resource Identifier}
\acrodef{CIDR}[CIDR]{Classless Inter-Domain Routing}
\acrodef{XML}[XML]{eXtensible Markup Language}

\acrodef{RAS}[RAS]{Reliability and Survivability}
\acrodef{API}[API]{Application Programming Interface}
\acrodef{ECC}[ECC]{Error Check and Correction}
\acrodef{FM}[FM]{Fabric Manager}
\acrodef{IO}[IO]{Input/Output}
\acrodef{MPMD}{Multiple Program Multiple Data}
\acrodef{PU}{Processing Unit}
\acrodef{HWLOC}{Hardware Locality}
\acrodef{OS}{Operating System}
\acrodef{PGCID}{Process Group Context IDentifier}
\acrodef{NIC}{Network Interface Card}
\acrodef{PCI}{Peripheral Component Interconnect}
\acrodef{MAC}{Media Access Control}
\acrodef{TCP}{Transmission Control Protocol}
\acrodef{UID}{User ID}
\acrodef{GID}{Group ID}
\acrodef{IL}{Intermediate Launcher}
\acrodef{FEA}{Fork/Exec Agent}
\acrodef{FQDN}{Fully Qualified Domain Name}
\acrodef{NUMA}{Non-Uniform Memory Access}
\acrodef{UUID}{Universally Unique IDentifier}
\acrodef{GPU}{Graphics Processing Unit}
\acrodef{DRM}{Direct Rendering Manager}
\acrodef{DMA}{Direct Memory Access}
\acrodef{CUDA}{Compute Unified Device Architecture}
\acrodef{HCA}{Host Channel Adapter}
\acrodef{IP}{Internet Protocol}
\acrodef{DVM}{Distributed Virtual Machine}

%%%%%%%%%%%%%%%%%%%


\begin{document}


%
% Title page
%
    \pagenumbering{roman}
    \input{TitlePage}

%
% Table of contents
%
    \setcounter{page}{0}
    \setcounter{tocdepth}{3}

    \begin{spacing}{1.3}
        \RedeclareSectionCommand[tocnumwidth=2.6em]{section}
        \RedeclareSectionCommand[tocnumwidth=3.7em,tocindent=4.1em]{subsection}
        \tableofcontents
    \end{spacing}

%
% Introductory materials
%
    % Uncomment the next line to enable line numbering on the main body text:
    \linenumbers\pagewiselinenumbers
    \newpage\pagenumbering{arabic}
    \setcounter{chapter}{0}  % start chapter numbering here

%
% Chapters
%
    % Introduction to PMIx
    %  - Overview, Goals, Arch.
    \input{Chap_Introduction.tex}

    % PMIx Terms and Conventions
    \input{Chap_Terms.tex}

    % Data Structures, Types, Constants
    \input{Chap_API_Struct.tex}

    % Client Initialization & Finalization
    \input{Chap_API_Init.tex}

    % Key/Value Management
    %  - put, get, commit, fence, (un)publish, lookup
    \input{Chap_API_Sync_Access.tex}
    \input{Chap_API_Reserved_Keys.tex}
    \input{Chap_API_NonReserved_Keys.tex}
    \input{Chap_API_Publish.tex}

    % Event Handling
    %  - (de)register_event, notify_event
    \input{Chap_API_Event.tex}

    % Data Packing & Unpacking
    %  - (un)pack, copy
    \input{Chap_API_Data_Mgmt.tex}

    % Process Management
    %  - spawn, (dis)connect, resolve_peers
    \input{Chap_API_Proc_Mgmt.tex}

    % Job Allocation Management
    %  - Allocation request, process monitoring
    \input{Chap_API_Job_Mgmt.tex}

    % PMIx Process Sets and Groups
    \input{Chap_API_Sets_Groups.tex}

    % PMIx fabric support interfaces
    %  - register/deregister fabric, get vertex/index
    \input{Chap_API_Fabric.tex}

    % Security credentials
    \input{Chap_API_Security.tex}

    % PMIx Server Specific Interfaces
    %  - setup_fork, (de)register_nspace, pmix_server_module_t
    \input{Chap_API_Server.tex}

    % PMIx Tools and Debugger Support
    \input{Chap_API_Tools.tex}

%
% Appendix
%
    \setcounter{chapter}{0}  % restart chapter numbering with "letter A"
    \renewcommand{\thechapter}{\Alph{chapter}}%
    \appendix

    % Python bindings
    \input{App_Python}

    % Use-Cases
    \input{App_Use_Cases.tex}

% Revisions, Acknowledgements
    % Revisions
    \input{Chap_Revisions.tex}

    \input{Acknowledgements}

%
% Bibliography
%
	\nolinenumbers
	\bibliography{pmix-standard}{}
	\addcontentsline{toc}{chapter}{Bibliography}
	\bibliographystyle{plain}

%
% Index
%
	\nolinenumbers

	\indexprologue{General terms and other items not induced in the other indices.}
	\printindex

	%\indexprologue{Functions}
	\printindex[index_api]

	%\indexprologue{Macros}
	\printindex[index_macro]

	%\indexprologue{Data structures}
	\printindex[index_struct]

	%\indexprologue{Constants}
	\printindex[index_const]

    %\indexprologue{Envars}
    \printindex[index_envars]

	%\indexprologue{Attributes}
	\printindex[index_attribute]


\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
